import org.junit.jupiter.api.Test;
import org.springframework.web.servlet.resource.ResourceResolver;

import java.util.List;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

class ApplicationConfigurationTest {

    @Test
    void testResourceLocations() {
        String[] resourceLocations = ApplicationConfiguration.RESOURCE_LOCATIONS;
        assertEquals(6, resourceLocations.length);
        assertEquals("classpath:/META-INF/resources/", resourceLocations[0]);
        assertEquals("classpath:/resources/", resourceLocations[1]);
        assertEquals("classpath:/static/", resourceLocations[2]);
        assertEquals("classpath:/public/", resourceLocations[3]);
        assertEquals("classpath:/", resourceLocations[4]);
        assertEquals("classpath:/***", resourceLocations[5]);
    }

    @Test
    void testAddResourceHandlers() {
        ApplicationConfiguration configuration = new ApplicationConfiguration();
        ApplicationConfiguration.BrowserHistoryConfigurer browserHistoryConfigurer = configuration.new BrowserHistoryConfigurer();

        ResourceHandlerRegistry registry = new ResourceHandlerRegistry();
        ResourceResolver resolver = browserHistoryConfigurer.addResourceHandlers(registry);

        assertTrue(resolver instanceof BrowserHistoryIndexResolver);

        List<ResourceResolver> resolvers = registry.getResolvers();
        assertTrue(resolvers.contains(resolver));
    }
}
